/*
 * Copyright Â© 2017 Vantiv.  ALL RIGHTS RESERVED.
 * eProtect iframe Java Script API Version: 1.1
 * Includes payframe-client.js https://www.vantiv.com
 */
function ready(a){if(document.readyState!="loading"){a()
}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",a)}else{document.attachEvent("onreadystatechange",function(){if(document.readyState=="complete"){a()
}})}}}ready(function(){});var configFromMerchant;var payframeIsReady=false;var startTime=null;var endTime=null;var VantiveProtectPpStatsReporter=function(){var b=0;
var c=3;var a=0;return{reportMethodInvocation:function(e){b++;if(b>c){return}e=encodeURIComponent(e);var d=this.getUriEncodedStack(new Error());
var f="https://request.eprotect.vantivcnp.com";var g="errorHandler=PUBLIC_API_CALL&errorStack="+d+"&errorMessage="+e;setTimeout(function(){try{getJSON(f+"/eProtect/ppstats?"+g+"&jsoncallback=?",function(i){})
}catch(h){}},0)},report3rdPartyError:function(d){this.reportError(d,"3RD_PARTY_ERROR")},reportIframeClientError:function(d){this.reportError(d,"CLIENT_ERROR")
},reportError:function(h,d){a++;if(a>c){return}var f=encodeURIComponent(h);f=this.removeNonStandardCharacters(f);var e="https://request.eprotect.vantivcnp.com";
var i="errorHandler="+d;var g=this.getUriEncodedStack(h);f+=encodeURIComponent(" ")+g;if(f.length>3000){f=f.substr(0,3000)
}i+="&errorStack="+f;setTimeout(function(){try{getJSON(e+"/eProtect/ppstats?"+i+"&jsoncallback=?",function(k){})}catch(j){}},0)
},removeNonStandardCharacters:function(e){var d=decodeURIComponent(e);d=d.replace(/(\r\n|\n|\r)/g," ");return encodeURIComponent(d)
},executeActionAndReportError:function(f){try{f()}catch(e){try{this.reportIframeClientError(e)}catch(d){}throw e}},getUriEncodedStack:function(f){var d="";
if(f.stack){d=f.stack;if(d.length>2000){d=d.substr(0,2000)}try{var g=encodeURIComponent(d);g=this.removeNonStandardCharacters(d);
d=g}catch(e){}}return d},reportIframeLoadedTime:function(d,f){var e="https://request.eprotect.vantivcnp.com";setTimeout(function(){try{getJSON(e+"/eProtect/ppstats?loadTime="+d+"&paypageId="+f+"&jsoncallback=?",function(h){})
}catch(g){}},0)}}};function getJSON(c,e){var a="JS"+Math.floor(Math.pow(10,20)+Math.random()*(Math.pow(10,21)-Math.pow(10,20)-1))+"_"+new Date().getTime(),b=document.createElement("script"),d=document.getElementsByTagName("head")[0]||document.documentElement;
window[a]=function(f){d.removeChild(b);e&&e(f)};b.src=c.replace("jsoncallback=?","jsoncallback="+a);d.appendChild(b)}var myVantivEProtectReporterForPpStats=new VantiveProtectPpStatsReporter();
var eventHandler=function(f){if(f.origin!=="https://request.eprotect.vantivcnp.com"){return}var b=null;try{b=JSON.parse(f.data)
}catch(c){var d="parse error in event-handler <";d+=a(f.data)+">";myVantivEProtectReporterForPpStats.reportIframeClientError(d)
}myVantivEProtectReporterForPpStats.executeActionAndReportError(function(){if(b!=null){if(b.ready){payframeIsReady=true;var g=document.getElementById("vantiv-payframe").contentWindow;
configFromMerchant.action="configure";var h=2;configFromMerchant.clientVersion=h;if(h>=4&&configFromMerchant.enhancedUxFeatures){configFromMerchant.enhancedUxFeatures.enhancedUxVersion=2
}g.postMessage(JSON.stringify(configFromMerchant),"*");endTime=new Date().getTime();var e=endTime-startTime;myVantivEProtectReporterForPpStats.reportIframeLoadedTime(e,configFromMerchant.paypageId)
}else{if(b.height){var i=document.getElementById("vantiv-payframe");i.height=b.height}else{if(b.hasOwnProperty("allInputsEmpty")&&configFromMerchant.inputsEmptyCallback){configFromMerchant.inputsEmptyCallback(b)
}else{if(b.invokeMerchantCallback){configFromMerchant.callback(b)}else{var j="Callback fired with invalid request ";j+="<"+a(b)+">";
myVantivEProtectReporterForPpStats.reportIframeClientError(j)}}}}}});function a(j){var i="";var e=typeof j;i+="type="+e+",";
if(e==="object"){i+=" [";var h=[];for(var g in j){if(j.hasOwnProperty(g)){var k=j[g];h.push(g+"="+k)}}i+=h.join(",")+"]"}else{i+=j
}return i}};myVantivEProtectReporterForPpStats.executeActionAndReportError(function(){if(window.addEventListener){window.addEventListener("message",eventHandler,false)
}else{if(window.attachEvent){window.attachEvent("onmessage",eventHandler)}}});var LitlePayframeClient=function(g){if(g.htmlTimeout){setTimeout(function(){if(payframeIsReady===false){var r={response:"884",message:"PayFrame HTML failed to load"};
try{var s=document.getElementById("vantiv-payframe").src;myVantivEProtectReporterForPpStats.reportIframeClientError("Iframe did not load. SRC was <"+s+"> timeout was <"+g.htmlTimeout+">")
}catch(t){}configFromMerchant.callback(r)}},g.htmlTimeout)}configFromMerchant=g;var c=configFromMerchant.div;var m=configFromMerchant.paypageId;
var d=configFromMerchant.style;var p=configFromMerchant.height;var a="";var k="api2";var n="";var f="";var i=2;var e=configFromMerchant.iframeTitle;
if(e==undefined){e="Secure Card Data Capture"}var l=configFromMerchant.label;var h="Card Number";var j="Expiry Date";var q="Security code";
var b="PIN";if(l!=undefined){h=l.accountNumber==undefined?h:l.accountNumber;j=l.expDate==undefined?j:l.expDate;q=l.cvv==undefined?q:l.cvv;
b=l.pin==undefined?b:l.pin}var o;if(i>=4){if(configFromMerchant.enhancedUxFeatures){n="&enhancedux=enhancedUx&enhanceduxversion=2"
}if(l!=undefined){o="'https://request.eprotect.vantivcnp.com/eProtect/eProtect.html?type=payframe&paypageid="+m+"&style="+d+"&apiversion="+k+n+"&newiframe=true&accountNumberLabel="+h+"&expDateLabel="+j+"&cvvLabel="+q+"&pinLabel="+b+"'"
}else{o="'https://request.eprotect.vantivcnp.com/eProtect/eProtect.html?type=payframe&paypageid="+m+"&style="+d+"&apiversion="+k+n+"&newiframe=true'"
}}else{if(configFromMerchant.enhancedUxFeatures){n="_enhancedUx";if(configFromMerchant.enhancedUxFeatures.enhancedUxVersion){f="_"+configFromMerchant.enhancedUxFeatures.enhancedUxVersion
}}if(l!=undefined){o="'https://request.eprotect.vantivcnp.com/eProtect/payframe_"+m+"_"+d+"_"+k+"_"+h+"_"+j+"_"+q+"_"+b+n+f+".html'"
}else{o="'https://request.eprotect.vantivcnp.com/eProtect/payframe_"+m+"_"+d+"_"+k+n+f+".html'"}}if(configFromMerchant.noScrollBar){a="scrolling='no'"
}startTime=new Date().getTime();document.getElementById(c).innerHTML="<iframe id='vantiv-payframe' name='vantiv-payframe' title='"+e+"' frameborder='0' src="+o+" height='"+p+"' width='100%' "+a+"sandbox='allow-scripts allow-same-origin'></iframe>";
return{getPaypageRegistrationId:function(r){myVantivEProtectReporterForPpStats.executeActionAndReportError(function(){r.action="getPaypageRegistrationId";
r.paypageId=configFromMerchant.paypageId;r.reportGroup=configFromMerchant.reportGroup;r.timeout=configFromMerchant.timeout;
var s=document.getElementById("vantiv-payframe").contentWindow;s.postMessage(JSON.stringify(r),"*")})},autoAdjustHeight:function(){myVantivEProtectReporterForPpStats.executeActionAndReportError(function(){var s={action:"getDocHeight"};
var r=document.getElementById("vantiv-payframe").contentWindow;r.postMessage(JSON.stringify(s),"*")})},getCheckoutId:function(r){myVantivEProtectReporterForPpStats.executeActionAndReportError(function(){r.action="getCheckoutId";
r.paypageId=configFromMerchant.paypageId;r.reportGroup=configFromMerchant.reportGroup;r.timeout=configFromMerchant.timeout;
var s=document.getElementById("vantiv-payframe").contentWindow;s.postMessage(JSON.stringify(r),"*")})},getCheckoutPin:function(r){myVantivEProtectReporterForPpStats.executeActionAndReportError(function(){r.action="getCheckoutPin";
r.paypageId=configFromMerchant.paypageId;r.reportGroup=configFromMerchant.reportGroup;r.timeout=configFromMerchant.timeout;
var s=document.getElementById("vantiv-payframe").contentWindow;s.postMessage(JSON.stringify(r),"*")})},getCombinedTokens:function(r){myVantivEProtectReporterForPpStats.executeActionAndReportError(function(){r.action="getCombinedTokens";
r.paypageId=configFromMerchant.paypageId;r.reportGroup=configFromMerchant.reportGroup;r.timeout=configFromMerchant.timeout;
var s=document.getElementById("vantiv-payframe").contentWindow;s.postMessage(JSON.stringify(r),"*")})},allInputsEmpty:function(){myVantivEProtectReporterForPpStats.executeActionAndReportError(function(){var s={action:"allInputsEmpty"};
var r=document.getElementById("vantiv-payframe").contentWindow;r.postMessage(JSON.stringify(s),"*")})}}};
/*json2.js*/
if(typeof JSON!=="object"){JSON={}
}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null
};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx,escapable,gap,indent,meta,rep;
function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];
return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];
if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)
}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);
case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;
for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";
gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];
v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);
if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";
gap=mind;return v}}if(typeof JSON.stringify!=="function"){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;
gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space
}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")
}return str("",{"":value})}}if(typeof JSON.parse!=="function"){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);
if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;
if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");
return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());